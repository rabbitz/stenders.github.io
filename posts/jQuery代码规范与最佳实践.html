<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>


# jQuery代码规范与最佳实践

> 原文地址：[http://lab.abhinayrathore.com/jquery-standards/](http://lab.abhinayrathore.com/jquery-standards/)

以下书写jQuery代码的基本规范和最佳实践，这些不包括原生JS规范与最佳实践。如有问题或建议请移步[原作者博客](http://web3o.blogspot.com/2014/03/jquery-coding-standards-and-best.html)留言讨论。

## 加载jQuery

1. 尽量使用CDN加载。[使用CDN的优势](http://www.sitepoint.com/7-reasons-to-use-a-cdn/)
```
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery-1.11.0.min.js" type="text/javascript"><\/script>')</script>
```
[这里](http://lab.abhinayrathore.com/jquery-standards/?utm_source=javascriptweekly&utm_medium=email#jQueryCND)有一些流行的CDN列表。
2. 使用本地同版本的jQuery库作备用。[更多信息](http://css-tricks.com/snippets/jquery/fallback-for-cdn-hosted-jquery/)
3. 像第一条那样的，使用不带协议头的URL路径（去掉```http:```或者```https```）
4. 如果有条件，将所有JS文件放在页面底部。[更多信息](http://developer.yahoo.com/blogs/ydn/high-performance-sites-rule-6-move-scripts-bottom-7200.html)还有[HTML5 模版](https://github.com/h5bp/html5-boilerplate/blob/master/index.html)
5. 使用什么版本的jQuery？
  如需支持IE6/7/8则不要选择2.x版本
  针对新的web应用，不考虑兼容性等，则优先使用最新版本
  当从CDN加载jQuery时，总是写全版本号（例如：1.11.0 而不是1.11或只写1）
  不要加载多个不同版本jQuery
6. 如果在同时使用其他如Prototype，MooTools，Zepto等一些同样在使用```$```符号的库时，不要使用```$```去调用jQuery方法，而是只使用```jQuery```。可以通过调用```$.noConflict()```将```$```的使用权交给其他库。
7. 如果要检测更高级的浏览器特性，建议使用[Modernizr](http://modernizr.com/)。

## jQuery变量

1. 所有使用或缓存jQuery对象的变量应该以```$```开头
2. 始终将jQuery选择器返回的对象缓存到本地变量中以复用。
<script type="text/javascript">
  var $myDiv = $("#myDiv");
  $myDiv.click(function(){...});
</script>
3. 使用[峰驼式](http://en.wikipedia.org/wiki/CamelCase)命名变量

## 选择器

1. ID选择器可用时就使用ID选择。它是最快的因为在内部使用的是```document.getElementById()```。
2. 当使用类/伪类选择器时，总是给选择器附上元素类型来避免扫描整个DOM树。
<script type="text/javascript">
  // BAD 在整个DOM树中扫描"products"类名
var $products = $(".products");

// GOOD 只在DIV元素中扫描"products"类名
var $products = $("div.products");
</script>
3. 在ID > 子节点层级选择器中使用```find()```方法。因为前半部分选择器没使用到Sizzle选择器引擎来查找元素。[更多信息](http://learn.jquery.com/performance/optimize-selectors/)
<script type="text/javascript">
  // BAD, Sizzle选择器引擎查找层级
  var $productIds = $("#products div.id");

  // GOOD, 已经使用
  var $productIds = $("#products").find("div.id");
</script>





</body>
</html>